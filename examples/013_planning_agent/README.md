# 013 - 规划代理

展示如何创建能够制定和执行复杂计划的智能代理。

## 特点

- **智能规划**: LLM自动分解复杂目标为可执行任务
- **依赖管理**: 自动处理任务间的依赖关系
- **状态跟踪**: 完整记录计划执行过程
- **纯Python**: 用标准数据结构实现计划管理

## 核心组件

### TaskPlan
- 任务数据结构，包含优先级、依赖关系、执行状态
- 支持嵌套子任务和时间跟踪
- 完整的生命周期管理

### PlanningAgent
- 基于目标自动生成执行计划
- 智能任务调度和依赖解析
- 执行监控和错误处理

## 使用方法

```bash
# 设置环境变量
export OPENAI_API_KEY="your-key-here"

# 运行示例
python main.py
```

## 规划流程

```python
# 创建规划代理
agent = PlanningAgent("openai")

# LLM自动制定计划
plan = await agent.create_plan("分析销售数据并生成报告")

# 自动执行计划
result = await agent.execute_plan(plan)
```

## 计划特性

1. **自动分解**: LLM将复杂目标分解为子任务
2. **依赖排序**: 根据依赖关系自动排序执行
3. **时间估算**: 估计和跟踪任务执行时间
4. **状态管理**: 完整的任务状态生命周期

## 应用场景

- **项目管理**: 自动分解项目任务
- **数据分析**: 规划分析流程
- **业务流程**: 复杂业务逻辑执行
- **学习计划**: 个人学习路径规划

## 关键概念

- **目标驱动**: 从高层目标自动生成执行步骤
- **智能调度**: 考虑依赖和优先级的执行顺序
- **执行监控**: 实时跟踪计划执行状态
- **错误恢复**: 单个任务失败不影响整体计划

## 扩展想法

- 添加资源约束管理
- 实现动态计划调整
- 支持并行任务执行
- 添加计划模板系统
- 实现计划性能分析